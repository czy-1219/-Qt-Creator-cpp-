
 一、核心业务逻辑模块
1. dispatchsystem.cpp
   
   - 实现订单调度系统，采用单例模式设计
   - 负责司机注册与管理、订单分配算法
   - 基于距离优先原则匹配司机（50公里范围内）
   - 处理司机拒绝订单、订单状态变化等事件
   - 维护在线司机列表和可用订单列表
2. ordermanager.cpp
   
   - 实现订单管理系统，采用单例模式设计
   - 负责订单的创建、状态更新、取消和完成
   - 生成唯一订单号（时间戳+随机数）
   - 计算订单预估费用、距离和时间
   - 根据车型（普通车/专车）调整费用和时间
   - 支持按状态、乘客、司机查询订单
3. mapdata.cpp
   
   - 实现地图数据管理，采用单例模式设计
   - 生成网格地图（默认50x50网格）
   - 维护节点、边和邻接表数据结构
   - 提供距离计算（曼哈顿距离）
   - 实现地图节点的查找和坐标转换
4. pathplanner.cpp
   
   - 实现路径规划功能，采用单例模式设计
   - 基于网格的路径规划算法（先X轴后Y轴）
   - 提供路径平滑功能（移除共线点）
   - 实现A*算法的启发式函数（曼哈顿距离）
   - 支持路径重建功能
5. order.cpp
   
   - 实现订单类，包含订单的完整生命周期
   - 定义订单状态枚举（Pending、Accepted、OnTheWay等）
   - 管理订单相关数据（乘客、司机、位置、费用等）
   - 提供订单状态变化的信号通知 二、用户管理模块
6. user.cpp
   
   - 实现用户基类，定义用户的基本属性和状态
   - 包含用户ID、姓名、手机号等基本信息
   - 定义用户状态枚举（Online、Offline等）
   - 为Passenger和Driver类提供继承基础
7. passenger.cpp
   
   - 实现乘客类，继承自User
   - 提供下单和取消订单功能
   - 发送订单请求信号
   - 管理乘客的订单历史
8. driver.cpp
   
   - 实现司机类，继承自User
   - 管理司机的车辆信息（车牌号、车型）
   - 处理接单、拒单、开始行程、结束行程等操作
   - 维护司机的位置信息和在线状态
   - 记录司机的完成订单数和累计里程 三、UI界面模块
9. mainwindow.cpp
   
   - 实现主窗口，程序的入口界面
   - 提供乘客登录、司机登录、平台登录入口
   - 实现用户注册功能
   - 管理用户数据的加载和保存（JSON格式）
   - 初始化地图数据
   - 清理活跃订单和资源
10. passengerwindow.cpp
    
    - 实现乘客界面
    - 提供地图交互功能，允许乘客选择起点和终点
    - 展示订单状态和行程信息
    - 支持订单的创建和取消
    - 显示司机位置和预计到达时间
11. driverwindow.cpp
    
    - 实现司机界面
    - 展示司机的当前位置和状态
    - 处理订单推送和接单操作
    - 显示行程路线和乘客信息
    - 支持行程开始、暂停和结束操作
12. platformwindow.cpp
    
    - 实现平台管理界面
    - 提供系统监控功能
    - 展示订单统计和司机状态
    - 支持订单的手动干预和管理
    - 提供系统参数配置功能 四、辅助功能模块
13. workerthread.cpp
    
    - 实现工作线程类
    - 用于处理耗时的后台任务
    - 避免阻塞UI线程，提高系统响应性
    - 支持线程间通信
14. main.cpp
    
    - 程序入口文件
    - 初始化Qt应用程序
    - 创建并显示主窗口
    - 启动事件循环
### 系统核心流程
1. 用户登录/注册 ：通过MainWindow进入相应角色界面
2. 乘客下单 ：在PassengerWindow选择起点终点，创建订单
3. 订单创建 ：OrderManager生成订单，计算预估费用
4. 订单调度 ：DispatchSystem匹配合适司机
5. 司机接单 ：DriverWindow接收订单推送，司机选择接单
6. 行程开始 ：司机到达乘客位置，开始行程
7. 行程结束 ：到达目的地，结束行程，计算费用
8. 订单完成 ：OrderManager更新订单状态为Completed
### 技术特点
1. 基于Qt框架 ：使用信号槽机制实现对象间通信
2. 单例模式 ：核心服务类（DispatchSystem、OrderManager等）采用单例设计
3. 网格地图 ：简化的地图模型，便于路径规划和距离计算
4. 模块化设计 ：清晰的模块划分，便于维护和扩展
5. JSON数据持久化 ：用户数据和订单数据使用JSON格式存储
### 系统架构
- UI层 ：各Window类，负责用户交互
- 业务逻辑层 ：DispatchSystem、OrderManager等，负责核心业务处理
- 数据层 ：MapData、用户数据等，负责数据管理
- 通信机制 ：Qt信号槽，实现模块间松耦合通信
